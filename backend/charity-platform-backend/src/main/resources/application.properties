debug=true

# ===== APPLICATION CONFIGURATION =====
spring.application.name=charity-platform-backend

# ===== SERVER CONFIGURATION =====
server.port=8080
# REMOVED: server.servlet.context-path=/api
# Controllers now define full paths: @RequestMapping("/api/v1/...")

# ===== DATABASE CONFIGURATION =====
# MySQL Configuration (Development - XAMPP)
spring.datasource.url=jdbc:mysql://localhost:3306/charity_platform?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Connection pool settings
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000

# ===== JPA/HIBERNATE CONFIGURATION =====
# Development: update (auto-create/update tables)
# Production: validate (never modify schema)
spring.jpa.hibernate.ddl-auto=update

# Show SQL in console (disable in production)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# MySQL dialect
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Prevent lazy loading issues
spring.jpa.open-in-view=false

# ===== LOGGING CONFIGURATION =====
logging.level.root=INFO
logging.level.com.charity=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Log file (optional)
# logging.file.name=logs/charity-platform.log
# logging.file.max-size=10MB
# logging.file.max-history=30

# ===== JWT CONFIGURATION =====
# IMPORTANT: Use environment variable in production!
# Generate secret: openssl rand -base64 64
jwt.secret=${JWT_SECRET:dGhpcy1pcy1hLXZlcnktbG9uZy1zZWNyZXQta2V5LWZvci1kZXZlbG9wbWVudC1vbmx5LWRvLW5vdC11c2UtaW4tcHJvZHVjdGlvbi1wbGVhc2UtZ2VuZXJhdGUtYS1uZXctb25l}
jwt.expiration=36000000

# 10 hours = 36000000 milliseconds
# 1 day = 86400000 milliseconds

# ===== CORS CONFIGURATION =====
# Comma-separated list of allowed origins
cors.allowed-origins=http://localhost:3000,http://localhost:5500,http://127.0.0.1:5500,http://localhost:8081

# ===== SWAGGER/OPENAPI CONFIGURATION =====
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true

# ===== FILE UPLOAD CONFIGURATION =====
# Upload directory (relative to project root or absolute path)
upload.dir=${UPLOAD_DIR:uploads/images}
upload.url-base=${UPLOAD_URL_BASE:http://localhost:8080/uploads/images}

# Max file sizes
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=10MB

# ===== SECURITY CONFIGURATION =====
# Disable default security auto-configuration
# (We're using custom configuration)
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration

# ===== ACTUATOR (OPTIONAL - FOR MONITORING) =====
# Uncomment to enable health checks and metrics
# management.endpoints.web.exposure.include=health,info,metrics
# management.endpoint.health.show-details=always

# ===== PERFORMANCE TUNING =====
# Tomcat thread pool
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=10

# Connection timeout
server.tomcat.connection-timeout=20000

# ===== ERROR HANDLING =====
# Include stack trace in error response (disable in production)
server.error.include-stacktrace=on_param
server.error.include-message=always
server.error.include-binding-errors=always

# ===== ENCODING =====
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true

# ===== TIMEZONE =====
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# ===== VALIDATION =====
spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false

# ===== PROFILE-SPECIFIC NOTES =====
# For production, create application-prod.properties with:
# - Secure JWT secret from environment
# - Production database credentials
# - SSL/HTTPS configuration
# - Disable SQL logging
# - Disable Swagger UI
# - Restrict CORS to production domain only